
<EditForm Model="@Customers" OnValidSubmit="SaveAsync">
    <MudGrid>
        <MudItem xs="12" md="12">
            <MudPaper Class="pa-3 ma-1">

                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Send" Color="Color.Success">Добавить</MudButton>

                <MudButton Href="products" Variant="Variant.Text">Отмена</MudButton>
            </MudPaper>
        </MudItem>
    </MudGrid>
    <MudGrid>
        <MudItem xs="12" md="12">
            <MudPaper Class="pa-16 ma-1">

                <MudGrid>
                    <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="ПИН клиента"
                                      Variant="@variant" @bind-Text="@Customers.PIN"
                                      For="@(() => Customers.PIN)"
                                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.Pin" />
                    </MudItem>
                    <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="Имя"
                                      Variant="variant" @bind-Text="@Customers.Name"
                                      For="@(() => Customers.Name)"
                                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.DriveFileRenameOutline" />
                    </MudItem>
                    <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="Фамилия"
                                      Variant="@variant" @bind-Text="@Customers.Surname"
                                      For="@(() => Customers.Surname)"
                                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.DriveFileRenameOutline" />
                    </MudItem>
                   
                    <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="Отчество"
                                      Variant="variant" @bind-Value="@Customers.Patronymic"
                                      For="@(() => Customers.Patronymic)"
                                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.DriveFileRenameOutline" />
                    </MudItem>

                    <MudItem xs="12" sm="6" md="4">
                       
                        <MudSelect Label="Пол" Dense="true" T="string" Variant="Variant.Text" Placeholder="Выберите пол" Required="true"
                                   Value="Customers.Sex">
                            <MudSelectItem T="string" Value="@("Man")">Мужчина</MudSelectItem>
                            <MudSelectItem T="string" Value="@("Woman")">Женщина</MudSelectItem>
                        </MudSelect>
                    </MudItem>
                    <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="Национальность"
                                      Variant="variant" @bind-Value="@Customers.Nationality"
                                      For="@(() => Customers.Nationality)"
                                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.DriveFileRenameOutline" />
                    </MudItem>

                    <MudItem xs="12" sm="6" md="4">
                        <MudDatePicker T="Date" Label="Дата рождения" Editable="true"
                                       Variant="variant" @bind-Date="@Customers.DateOfBirth"
                                       Mask="@(new DateMask("0000-00-00"))"
                                       DateFormat="yyyy-MM-dd" Placeholder="DateOfBirth"
                                       For="@(() => Customers.DateOfBirth)" />
                    </MudItem>

                    <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="Серия и номер документа"
                                      Variant="variant" @bind-Value="@Customers.SeriesNumDocument"
                                      For="@(() => Customers.SeriesNumDocument)"
                                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.DocumentScanner" />
                    </MudItem>

                    <MudItem xs="12" sm="6" md="4">
                        <MudDatePicker T="Date" Label="Дата истечения срока" Editable="true"
                                       Variant="variant" @bind-Date="@Customers.DateOfExpiry"
                                       Mask="@(new DateMask("0000-00-00"))"
                                       DateFormat="yyyy-MM-dd" Placeholder="DateOfExpiry"
                                       For="@(() => Customers.DateOfExpiry)" />
                    </MudItem>
                    <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="Место рождения"
                                      Variant="variant" @bind-Value="@Customers.PlaceOfBirth"
                                      For="@(() => Customers.PlaceOfBirth)"
                                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.Place" />
                    </MudItem>
                    <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="Орган выдачи"
                                      Variant="variant" @bind-Value="@Customers.Authority"
                                      For="@(() => Customers.Authority)"
                                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.AssignmentTurnedIn" />
                    </MudItem>
                    <MudItem xs="12" sm="6" md="4">
                        <MudDatePicker T="Date" Label="Дата выдачи документа" Editable="true"
                                       Variant="variant" @bind-Date="@Customers.DateOfIssue"
                                       Mask="@(new DateMask("0000-00-00"))"
                                       DateFormat="yyyy-MM-dd" Placeholder="DateOfIssue"
                                       For="@(() => Customers.DateOfIssue)" />
                    </MudItem>

                   @*  <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="Этническая принадлежность"
                                      Variant="variant" @bind-Value="@Customers.Ethnicity"
                                      For="@(() => Customers.Ethnicity)"
                                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.ProductionQuantityLimits" />
                    </MudItem>   *@
                    <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="Адрес клиента"
                                      Variant="variant" @bind-Value="@Customers.Address"
                                      For="@(() => Customers.Address)"
                                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.Place" />
                    </MudItem>
                    <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="Пользователь системы"
                                      Variant="variant" @bind-Value="@Customers.UserId"
                                      For="@(() => Customers.UserId)"
                                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.ProductionQuantityLimits" />
                    </MudItem>  
                   @*  <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="bool" Label="Идентификация"
                                      Variant="variant" @bind-Value="@Customers.id"
                                      For="@(() => Customers.UserId)"
                                      Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.ProductionQuantityLimits" />
                    </MudItem> *@

                </MudGrid>
            </MudPaper>
        </MudItem>
    </MudGrid>
    <MudGrid>
        <MudItem xs="12" md="12">
            <MudPaper Class="pa-3 ma-1">

                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Send" Color="Color.Success">Добавить</MudButton>

                <MudButton Href="products" Variant="Variant.Text">Отмена</MudButton>
            </MudPaper>
        </MudItem>
    </MudGrid>
</EditForm>

@using System.Text.RegularExpressions
@using System.ComponentModel.DataAnnotations
@using ISTUDIO.Contracts.Features.Customers



@code {
    public CreateCustomersVM Customers { get; set; } = new();
    [Parameter] public EventCallback<CreateCustomersVM> OnSave { get; set; }

    private Variant variant = Variant.Text;
    private MudTextField<string> multilineReference;

    private async Task SaveAsync()
    {
        await OnSave.InvokeAsync(Customers);
    }
   

    
}


<EditForm Model="@Category" OnValidSubmit="SaveAsync">
    <MudGrid>
        <MudItem xs="12" md="12">
            <MudPaper Class="pa-3 ma-1">

                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Send" Color="Color.Success">@ButtonName</MudButton>

                <MudButton Href="customers" Variant="Variant.Text">Отмена</MudButton>
            </MudPaper>
        </MudItem>
    </MudGrid>
    <MudGrid>
        <MudItem xs="12" md="12">
            <MudPaper Class="pa-16 ma-1">

                <MudGrid>
                    <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="Фамилия"
                                      Variant="@variant" @bind-Text="@Category.Name"
                                      For="@(() => Category.Name)" />
                    </MudItem>
                    <MudItem xs="12" sm="6" md="4">
                        <MudTextField T="string" Label="Имя*"
                                      Variant="variant" @bind-Text="@Category.Description"
                                      For="@(() => Category.Description)" />
                    </MudItem>

                </MudGrid>
                <MudGrid>
                    
                    <MudFileUpload T="IBrowserFile" Context="fileInput" FilesChanged="UploadFiles">
                        <ButtonTemplate>
                            <MudButton HtmlTag="label"
                                       Variant="Variant.Filled"
                                       Color="Color.Primary"
                                       StartIcon="@Icons.Material.Filled.CloudUpload"
                                       for="@fileInput">
                                Upload Files
                            </MudButton>
                        </ButtonTemplate>
                    </MudFileUpload>
                </MudGrid>


            </MudPaper>
        </MudItem>
    </MudGrid>
</EditForm>


@using System.Text.RegularExpressions
@using System.ComponentModel.DataAnnotations
@using ISTUDIO.Application.Features.ModelsDTO
@using ISTUDIO.Contracts.Features.Categories;
@using ISTUDIO.Application.Features.Categories.DTOs;


@code {
    [Parameter] public CreateCategoriesVM Category { get; set; }
    [Parameter] public bool IsEditMode { get; set; } = false;
    [Parameter] public string ButtonName { get; set; }
    [Parameter] public EventCallback<CreateCategoriesVM> OnSave { get; set; }
    private Variant variant = Variant.Text;
    private IBrowserFile files { get; set; }
    private void UploadFiles(IBrowserFile file)
    {
        files = file;
    }
    private async Task SaveAsync()
    {
        await OnSave.InvokeAsync(Category);
    }
}
